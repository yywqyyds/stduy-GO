# 考试出题系统开发学习心得

在本次前后台一体的考试出题系统开发过程中，我从项目规划、前端实现、后端设计、接口联调到功能优化，经历了完整的开发闭环。项目主要实现了题库管理、出题功能（支持 AI 生成与手动编辑）、题目类型切换、数据持久化等核心功能。以下是我在开发中的一些学习总结。

## 一、开发要点与功能实现

### 1. 前端技术栈与实现
- 使用 **React + TypeScript** 作为开发主框架，确保类型安全与组件化开发；
- 使用 **Ant Design** 快速构建出统一风格的界面，包括 `Form`、`Table`、`Select` 等常用组件；
- 实现了题型筛选、题目展示、AI 出题、编辑保存、表单验证等功能；
- 根据题型动态渲染表单内容，如：单选题使用 Radio，编程题隐藏选项字段等。

### 2. 后端开发与数据库设计
- 使用 **Go (Golang)** 实现后端逻辑，设计了API 接口用于题目数据的增删改查；
- 使用 **SQLite** 作为数据库，简洁轻量，便于快速部署和测试；

### 3. 前后端联调
- 统一 API 数据格式，包括题目信息、答案、解析、AI 请求响应；
- 注意处理表单提交格式，如单选题答案需统一为数组格式存储；
- 实现保存成功后自动跳转主页面，提高用户体验。

---

## 二、过程中遇到的难点与解决方法

### 1. 表单动态渲染与数据清空
在切换题型时需要根据题型隐藏或显示不同的字段，同时确保字段数据在切换时被清空。为此我：
- 使用 `useEffect` 监听题型变化，调用 `form.resetFields()`；
- 在编辑题目时防止 `resetFields()` 清空已有数据，通过设置 `initialData` 与手动 `form.setFieldsValue` 配合使用；
- 在题型切换、表单初始化之间做了逻辑隔离以防状态干扰。

### 2. 单选题答案限制与多选题兼容性
为了实现“单选题只能选一个答案”，我根据题型动态切换答案字段为：
- Radio 单选（用于单选题）；
- Checkbox 多选（用于多选题）；
提交时统一将答案格式转换为数组，保持后端数据一致性。

### 3. 后端数据为空的问题排查
曾经遇到过提交时表单数据打印正常，但数据库为空的情况。最终发现是：
- 提交的数据格式与后端解析结构不一致；
- 某些字段值未传入或表单验证未通过；
通过在 `payload` 构建时手动检查字段并设置默认值，确保每个字段有效。

---

## 三、收获与总结

- 熟练掌握了 React + TypeScript + Ant Design 的中后台系统开发；
- 深入理解了前后端接口规范设计、数据格式统一的重要性；
- 提升了对动态表单渲染、状态管理、组件重用的掌控能力；
- 在调试过程中增强了问题定位、数据追踪的经验，提升了独立解决 bug 的能力；
- 更加理解了项目结构化设计与模块解耦的重要性，为后续项目开发打下了良好基础。

---

## 四、展望与优化方向

虽然系统功能已经基本完成，但仍有一些优化方向可继续探索：
-  输入关键词查询是否支持防抖/截流？
- 长文本题目（如编程题）是否会撑高卡片造成 UI 折叠？如何保证列表项高度统一、避免穿模？
- AI出题时网络中断或服务挂掉时是否能给出准确错误提示，避免前端假死？
- 针对模型生成结果存在幻觉/无效内容，是否增加校验或用户提示？
---

本项目不仅锻炼了我完整的开发流程能力，也增强了实战中调试、优化与跨技术栈协作的经验。期待在后续项目中将这些经验转化为更高效的开发实践。
